#!/bin/bash

if [ "$1" == "" ]; then
    echo "+++ Modo de uso +++"
    echo "$0 <param> <URL>"
    echo "<param> >> --head | -s | -v"
else
    if [ "$3" == "" ]; then
        echo "Adicione a wordlist"
    else
        (for word in $(cat $3);do
            result=$(curl -o /dev/null -w "%{http_code}" -s -H "User-Agent: fux" http://$1/$word/)
            if [ "$result" == "200" ]; then
                echo -e "\nhttp://$1/$word/ | code: $result"
                echo "diretório: http://$1/$word/"
                echo "diretório: http://$1/$word/" >> code200
            fi
            
            echo -en "Palavra: $word\r"
        done) &
        (for word in $(cat $3);do
            result_file=$(curl -o /dev/null -w "%{http_code}" -s -H "User-Agent: fux" http://$1/$word)
            if [ "$result_file" == "200" ]; then
                echo -e "\nhttp://$1/$word | code: $result_file"
                echo "arquivo: http://$1/$word"
                echo "arquivo: http://$1/$word" >> code200
            fi
            
            echo -en "arquivo: $word\r"
        done) &
        (for word in $(cat $3);do
            file_ext=$(curl -o /dev/null -w "%{http_code}" -s -H "User-Agent: fux" http://$1/$word.$2)
            if [ "$file_ext" == "200" ]; then
                echo -e "\nhttp://$1/$word.$2 | code: $file_ext"
                echo "arquivo: http://$1/$word.$2"
                echo "arquivo: http://$1/$word.$2" >> code200
            fi
            
            echo -en "ext: $word\r"
        done) &
        
        wait
    fi
fi
